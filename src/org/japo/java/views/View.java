/* 
 * Copyright 2017 José A. Pacheco Ondoño - joanpaon@gmail.com.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package org.japo.java.views;

import java.awt.Color;
import java.util.Properties;
import javax.swing.DefaultComboBoxModel;
import org.japo.java.controllers.Controller;
import org.japo.java.libraries.UtilesApp;
import org.japo.java.libraries.UtilesValidacion;
import org.japo.java.models.Model;

/**
 *
 * @author José A. Pacheco Ondoño - joanpaon@gmail.com
 */
public class View extends javax.swing.JFrame {
    // Propiedades Vista
    public static final String PRP_PUERTO_BLOQUEO = "puerto_bloqueo";
    public static final String PRP_LOOK_AND_FEEL = "lnf";
    public static final String PRP_RUTA_FAVICON = "ruta_favicon";

    // Fichero Propiedades Vista
    public static final String FICHERO = "view.properties";

    // Referencias
    private Model model;
    private Controller control;
    private Properties prpView;

    // Constructor
    public View() {
        // Inicializacion Anterior
        initBefore();

        // Creación Vista
        initComponents();

        // Inicializacion Posterior
        initAfter();
    }

    public Model getModel() {
        return model;
    }

    public void setModel(Model model) {
        this.model = model;
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        btgCurso = new javax.swing.ButtonGroup();
        btgTurno = new javax.swing.ButtonGroup();
        pnlIdentificacion = new javax.swing.JPanel();
        lblExp = new javax.swing.JLabel();
        txfExp = new javax.swing.JTextField();
        lblNom = new javax.swing.JLabel();
        txfNom = new javax.swing.JTextField();
        lblApe = new javax.swing.JLabel();
        txfApe = new javax.swing.JTextField();
        lblDNI = new javax.swing.JLabel();
        txfDNI = new javax.swing.JTextField();
        pnlMatricula = new javax.swing.JPanel();
        lblCic = new javax.swing.JLabel();
        cbbCic = new javax.swing.JComboBox<>();
        lblCur = new javax.swing.JLabel();
        rbtCur1 = new javax.swing.JRadioButton();
        rbtCur2 = new javax.swing.JRadioButton();
        rbtCur3 = new javax.swing.JRadioButton();
        lblTur = new javax.swing.JLabel();
        rbtTurM = new javax.swing.JRadioButton();
        rbtTurV = new javax.swing.JRadioButton();
        rbtTurN = new javax.swing.JRadioButton();
        rbtTurD = new javax.swing.JRadioButton();
        lblRep = new javax.swing.JLabel();
        cbxRep = new javax.swing.JCheckBox();
        pnlControles = new javax.swing.JPanel();
        btnImportar = new javax.swing.JButton();
        btnExportar = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("Matrícula Alumno");
        setResizable(false);
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowClosing(java.awt.event.WindowEvent evt) {
                formWindowClosing(evt);
            }
        });

        pnlIdentificacion.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Identificación", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Dialog", 1, 14))); // NOI18N

        lblExp.setFont(new java.awt.Font("Dialog", 1, 24)); // NOI18N
        lblExp.setText("Expediente");

        txfExp.setFont(new java.awt.Font("Dialog", 0, 24)); // NOI18N
        txfExp.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txfExpFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                txfExpFocusLost(evt);
            }
        });
        txfExp.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txfExpActionPerformed(evt);
            }
        });

        lblNom.setFont(new java.awt.Font("Dialog", 1, 24)); // NOI18N
        lblNom.setText("Nombre");

        txfNom.setFont(new java.awt.Font("Dialog", 0, 24)); // NOI18N
        txfNom.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txfNomFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                txfNomFocusLost(evt);
            }
        });
        txfNom.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txfNomActionPerformed(evt);
            }
        });

        lblApe.setFont(new java.awt.Font("Dialog", 1, 24)); // NOI18N
        lblApe.setText("Apellidos");

        txfApe.setFont(new java.awt.Font("Dialog", 0, 24)); // NOI18N
        txfApe.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txfApeFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                txfApeFocusLost(evt);
            }
        });
        txfApe.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txfApeActionPerformed(evt);
            }
        });

        lblDNI.setFont(new java.awt.Font("Dialog", 1, 24)); // NOI18N
        lblDNI.setText("DNI");

        txfDNI.setFont(new java.awt.Font("Dialog", 0, 24)); // NOI18N
        txfDNI.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txfDNIFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                txfDNIFocusLost(evt);
            }
        });
        txfDNI.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txfDNIActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout pnlIdentificacionLayout = new javax.swing.GroupLayout(pnlIdentificacion);
        pnlIdentificacion.setLayout(pnlIdentificacionLayout);
        pnlIdentificacionLayout.setHorizontalGroup(
            pnlIdentificacionLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlIdentificacionLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnlIdentificacionLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lblExp)
                    .addComponent(lblNom)
                    .addComponent(lblApe)
                    .addComponent(lblDNI))
                .addGap(18, 18, 18)
                .addGroup(pnlIdentificacionLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(txfDNI)
                    .addComponent(txfApe)
                    .addComponent(txfNom)
                    .addComponent(txfExp))
                .addContainerGap())
        );
        pnlIdentificacionLayout.setVerticalGroup(
            pnlIdentificacionLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlIdentificacionLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnlIdentificacionLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblExp)
                    .addComponent(txfExp, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlIdentificacionLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblNom)
                    .addComponent(txfNom, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlIdentificacionLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblApe)
                    .addComponent(txfApe, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlIdentificacionLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblDNI)
                    .addComponent(txfDNI, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        pnlIdentificacionLayout.linkSize(javax.swing.SwingConstants.VERTICAL, new java.awt.Component[] {lblExp, txfExp});

        pnlMatricula.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Matrícula", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Dialog", 1, 14))); // NOI18N

        lblCic.setFont(new java.awt.Font("Dialog", 1, 24)); // NOI18N
        lblCic.setText("Ciclo");

        cbbCic.setFont(new java.awt.Font("Dialog", 1, 24)); // NOI18N
        cbbCic.setModel(new DefaultComboBoxModel<String>(Model.CICLOS)
        );
        cbbCic.setSelectedItem(Model.DEF_CIC);

        lblCur.setFont(new java.awt.Font("Dialog", 1, 24)); // NOI18N
        lblCur.setText("Curso");

        btgCurso.add(rbtCur1);
        rbtCur1.setFont(new java.awt.Font("Dialog", 1, 24)); // NOI18N
        rbtCur1.setSelected(true);
        rbtCur1.setText("1");

        btgCurso.add(rbtCur2);
        rbtCur2.setFont(new java.awt.Font("Dialog", 1, 24)); // NOI18N
        rbtCur2.setText("2");

        btgCurso.add(rbtCur3);
        rbtCur3.setFont(new java.awt.Font("Dialog", 1, 24)); // NOI18N
        rbtCur3.setText("3");

        lblTur.setFont(new java.awt.Font("Dialog", 1, 24)); // NOI18N
        lblTur.setText("Turno");

        btgTurno.add(rbtTurM);
        rbtTurM.setFont(new java.awt.Font("Dialog", 1, 24)); // NOI18N
        rbtTurM.setSelected(true);
        rbtTurM.setText("M");

        btgTurno.add(rbtTurV);
        rbtTurV.setFont(new java.awt.Font("Dialog", 1, 24)); // NOI18N
        rbtTurV.setText("V");

        btgTurno.add(rbtTurN);
        rbtTurN.setFont(new java.awt.Font("Dialog", 1, 24)); // NOI18N
        rbtTurN.setText("N");

        btgTurno.add(rbtTurD);
        rbtTurD.setFont(new java.awt.Font("Dialog", 1, 24)); // NOI18N
        rbtTurD.setText("D");

        lblRep.setFont(new java.awt.Font("Dialog", 1, 24)); // NOI18N
        lblRep.setText("Repetidor");

        cbxRep.setFont(new java.awt.Font("Dialog", 1, 24)); // NOI18N

        javax.swing.GroupLayout pnlMatriculaLayout = new javax.swing.GroupLayout(pnlMatricula);
        pnlMatricula.setLayout(pnlMatriculaLayout);
        pnlMatriculaLayout.setHorizontalGroup(
            pnlMatriculaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlMatriculaLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnlMatriculaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(lblCur, javax.swing.GroupLayout.DEFAULT_SIZE, 121, Short.MAX_VALUE)
                    .addComponent(lblTur, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(lblRep, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(lblCic, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGroup(pnlMatriculaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnlMatriculaLayout.createSequentialGroup()
                        .addGap(18, 18, Short.MAX_VALUE)
                        .addComponent(cbbCic, javax.swing.GroupLayout.PREFERRED_SIZE, 392, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(pnlMatriculaLayout.createSequentialGroup()
                        .addGap(25, 25, 25)
                        .addGroup(pnlMatriculaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(cbxRep)
                            .addGroup(pnlMatriculaLayout.createSequentialGroup()
                                .addGroup(pnlMatriculaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addGroup(pnlMatriculaLayout.createSequentialGroup()
                                        .addComponent(rbtTurM)
                                        .addGap(18, 18, 18)
                                        .addComponent(rbtTurV))
                                    .addGroup(pnlMatriculaLayout.createSequentialGroup()
                                        .addComponent(rbtCur1)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addComponent(rbtCur2)))
                                .addGap(18, 18, 18)
                                .addGroup(pnlMatriculaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(rbtCur3)
                                    .addGroup(pnlMatriculaLayout.createSequentialGroup()
                                        .addComponent(rbtTurN)
                                        .addGap(18, 18, 18)
                                        .addComponent(rbtTurD)))))
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );

        pnlMatriculaLayout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {rbtCur1, rbtCur2, rbtCur3, rbtTurD, rbtTurM, rbtTurN, rbtTurV});

        pnlMatriculaLayout.setVerticalGroup(
            pnlMatriculaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlMatriculaLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnlMatriculaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblCic)
                    .addComponent(cbbCic, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlMatriculaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblCur)
                    .addComponent(rbtCur1)
                    .addComponent(rbtCur2)
                    .addComponent(rbtCur3))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlMatriculaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblTur)
                    .addComponent(rbtTurM)
                    .addComponent(rbtTurV)
                    .addComponent(rbtTurN)
                    .addComponent(rbtTurD))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlMatriculaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblRep)
                    .addComponent(cbxRep))
                .addContainerGap(10, Short.MAX_VALUE))
        );

        pnlControles.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Almacenamiento", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Dialog", 1, 14))); // NOI18N

        btnImportar.setFont(new java.awt.Font("Dialog", 1, 24)); // NOI18N
        btnImportar.setText("Importar");
        btnImportar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnImportarActionPerformed(evt);
            }
        });

        btnExportar.setFont(new java.awt.Font("Dialog", 1, 24)); // NOI18N
        btnExportar.setText("Exportar");
        btnExportar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnExportarActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout pnlControlesLayout = new javax.swing.GroupLayout(pnlControles);
        pnlControles.setLayout(pnlControlesLayout);
        pnlControlesLayout.setHorizontalGroup(
            pnlControlesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnlControlesLayout.createSequentialGroup()
                .addGap(50, 50, 50)
                .addComponent(btnImportar, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(50, 50, 50)
                .addComponent(btnExportar, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(50, 50, 50))
        );
        pnlControlesLayout.setVerticalGroup(
            pnlControlesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlControlesLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnlControlesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnImportar)
                    .addComponent(btnExportar))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                    .addComponent(pnlControles, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(pnlIdentificacion, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(pnlMatricula, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(pnlIdentificacion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(pnlMatricula, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(pnlControles, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        pack();
        setLocationRelativeTo(null);
    }// </editor-fold>//GEN-END:initComponents

    private void formWindowClosing(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowClosing
        control.procesarCierreVista(evt);
    }//GEN-LAST:event_formWindowClosing

    private void btnImportarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnImportarActionPerformed
        control.procesarImportacion(evt);
    }//GEN-LAST:event_btnImportarActionPerformed

    private void btnExportarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnExportarActionPerformed
        control.procesarExportacion(evt);
    }//GEN-LAST:event_btnExportarActionPerformed

    private void txfExpActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txfExpActionPerformed
        txfNom.requestFocus();
    }//GEN-LAST:event_txfExpActionPerformed

    private void txfNomActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txfNomActionPerformed
        txfApe.requestFocus();
    }//GEN-LAST:event_txfNomActionPerformed

    private void txfApeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txfApeActionPerformed
        txfDNI.requestFocus();
    }//GEN-LAST:event_txfApeActionPerformed

    private void txfDNIActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txfDNIActionPerformed
        cbbCic.requestFocus();
    }//GEN-LAST:event_txfDNIActionPerformed

    private void txfExpFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txfExpFocusGained
        txfExp.setForeground(Color.BLACK);
        txfExp.setBackground(Color.CYAN);
    }//GEN-LAST:event_txfExpFocusGained

    private void txfNomFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txfNomFocusGained
        txfNom.setForeground(Color.BLACK);
        txfNom.setBackground(Color.CYAN);
    }//GEN-LAST:event_txfNomFocusGained

    private void txfApeFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txfApeFocusGained
        txfApe.setForeground(Color.BLACK);
        txfApe.setBackground(Color.CYAN);
    }//GEN-LAST:event_txfApeFocusGained

    private void txfDNIFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txfDNIFocusGained
        txfDNI.setForeground(Color.BLACK);
        txfDNI.setBackground(Color.CYAN);
    }//GEN-LAST:event_txfDNIFocusGained

    private void txfExpFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txfExpFocusLost
        UtilesValidacion.validarCampoTexto(txfExp, Model.ER_EXP, "?");
        txfExp.setBackground(Color.WHITE);
    }//GEN-LAST:event_txfExpFocusLost

    private void txfNomFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txfNomFocusLost
        UtilesValidacion.validarCampoTexto(txfNom, Model.ER_NOM, "?");
        txfNom.setBackground(Color.WHITE);
    }//GEN-LAST:event_txfNomFocusLost

    private void txfApeFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txfApeFocusLost
        UtilesValidacion.validarCampoTexto(txfApe, Model.ER_APE, "?");
        txfApe.setBackground(Color.WHITE);
    }//GEN-LAST:event_txfApeFocusLost

    private void txfDNIFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txfDNIFocusLost
        UtilesValidacion.validarCampoDNI(txfDNI, "?");
        txfDNI.setBackground(Color.WHITE);
    }//GEN-LAST:event_txfDNIFocusLost

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.ButtonGroup btgCurso;
    private javax.swing.ButtonGroup btgTurno;
    private javax.swing.JButton btnExportar;
    private javax.swing.JButton btnImportar;
    public javax.swing.JComboBox<String> cbbCic;
    public javax.swing.JCheckBox cbxRep;
    private javax.swing.JLabel lblApe;
    private javax.swing.JLabel lblCic;
    private javax.swing.JLabel lblCur;
    private javax.swing.JLabel lblDNI;
    private javax.swing.JLabel lblExp;
    private javax.swing.JLabel lblNom;
    private javax.swing.JLabel lblRep;
    private javax.swing.JLabel lblTur;
    private javax.swing.JPanel pnlControles;
    private javax.swing.JPanel pnlIdentificacion;
    private javax.swing.JPanel pnlMatricula;
    public javax.swing.JRadioButton rbtCur1;
    public javax.swing.JRadioButton rbtCur2;
    public javax.swing.JRadioButton rbtCur3;
    public javax.swing.JRadioButton rbtTurD;
    public javax.swing.JRadioButton rbtTurM;
    public javax.swing.JRadioButton rbtTurN;
    public javax.swing.JRadioButton rbtTurV;
    public javax.swing.JTextField txfApe;
    public javax.swing.JTextField txfDNI;
    public javax.swing.JTextField txfExp;
    public javax.swing.JTextField txfNom;
    // End of variables declaration//GEN-END:variables

    // Inicializacion Anterior
    private void initBefore() {
        // Crear Modelo
        model = new Model();

        // Crear Controlador
        control = new Controller(model, this);

        // Cargar Propiedades Vista
        prpView = UtilesApp.cargarPropiedades(FICHERO);

        // Restaurar Estado
        control.restaurarEstadoVista(this, prpView);

        // Otras inicializaciones
    }

    // Inicializacion Posterior
    private void initAfter() {
        // Modelo > Vista
        control.sincronizarModeloVista(model, this);

        // Enfocar Control Inicial
        txfExp.requestFocus();

        // Otras inicializaciones
    }
}
